zabbix_export:
  version: '8.0'
  template_groups:
    - uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  host_groups:
    - uuid: f2481361f99448eea617b7b1d4765566
      name: 'Discovered hosts'
  templates:
    - uuid: f552ead096ff4ebb8e4cc44c437e1f2f
      template: 'Cradlepoint NCM v2 by HTTP'
      name: 'Cradlepoint NCM v2 by HTTP'
      description: |
        Discover Cradlepoint devices by HTTP with script item usage.
        
        Setup:
        1. Put your "X-ECM-API-ID" and "X-ECM-API-KEY" key values from NetCloud Manager into {$CP.ECM.API.ID} and {$CP.ECM.API.KEY} macros.
        2. Put your "X-CP-API-ID" and "X-CP-API-KEY" key values from NetCloud Manager into {$CP.API.ID} and {$CP.API.KEY} macros.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback.
        
        Generated by official Zabbix template tool "Templator"
      wizard_ready: 'YES'
      readme: |
        ## Setup
        
        1. Log into [NetCloud Manager](https://cradlepointecm.com/).
        2. Select Tools and then select the NetCloud API tab.
        3. Select Add in the NCM API 2.0 section, fill out the required fields and select OK to create the API keys.
        4. Put displayed `X-ECM-API-ID` and `X-ECM-API-KEY` key values into `ECM API ID` and `ECM API Key` host wizard configuration fields.
        5. Get back to [NetCloud Manager](https://cradlepointecm.com/) and select the API Portal link to navigate to the API Portal.
        6. The API Portal lists your `X-CP-API-ID` and `X-CP-API-KEY` API key values.
        7. Put displayed `X-CP-API-ID` and `X-CP-API-KEY` key values into `CP API ID` and `CP API Key` host wizard configuration fields.
        
        >Please, refer to the [vendor documentation](https://docs.cradlepoint.com/r/NCM-APIv2-Overview/Overview-of-NetCloud-API-v2) about NetCloud API authentication.
      vendor:
        name: Zabbix
        version: 8.0-0
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: 6afb34d9e07d4146835989723804dbcb
          name: 'Get devices item errors'
          type: DEPENDENT
          key: cradlepoint.devices.errors
          value_type: TEXT
          description: 'Item for gathering all the data item errors.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.error
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: cradlepoint.devices.get
          tags:
            - tag: component
              value: error
          triggers:
            - uuid: 597abc2d2b324a29b1be39e8087a4005
              expression: 'length(last(/Cradlepoint NCM v2 by HTTP/cradlepoint.devices.errors))>0'
              name: 'Cradlepoint: There are errors in the ''Get devices'' metric'
              priority: WARNING
              tags:
                - tag: scope
                  value: availability
        - uuid: 3a3aed7ebf514349822f747f87daf95b
          name: 'Get devices'
          type: SCRIPT
          key: cradlepoint.devices.get
          history: '0'
          value_type: TEXT
          params: |
            function getHttpData(url, params, pagination_required) {
            	var request = new HttpRequest(),
            		response,
            		data;
            
            	if (pagination_required) {
            		data = [];
            	}
            
            	request.addHeader('Content-Type: application/json');
            	request.addHeader('X-CP-API-ID: ' + params.cp_api_id);
            	request.addHeader('X-CP-API-KEY: ' + params.cp_api_key);
            	request.addHeader('X-ECM-API-ID: ' + params.ecm_api_id);
            	request.addHeader('X-ECM-API-KEY: ' + params.ecm_api_key);
            
            	if (typeof params.http_proxy !== 'undefined' && params.http_proxy !== '{' + '$NCM.HTTP_PROXY}' && params.http_proxy !== '') {
            		request.setProxy(params.http_proxy);
            		Zabbix.log(4, '[ NetCloud Manager API v2 ] Using HTTP proxy: ' + params.http_proxy);
            	}
            
            	while (url) {
            		Zabbix.log(4, '[ NetCloud Manager API v2 ] Sending request: ' + url);
            
            		response = request.get(url);
            
            		Zabbix.log(4, '[ NetCloud Manager API v2 ] Received response with status code ' + request.getStatus() + ': ' + response);
            
            		if (request.getStatus() < 200 || request.getStatus() >= 300) {
            			throw 'Request failed with status code ' + request.getStatus() + ': ' + response;
            		}
            
            		try {
            			response = JSON.parse(response);
            		}
            		catch (error) {
            			throw 'Failed to parse response received from NetCloud Manager API v2. Check debug log for more information.';
            		}
            
            		if (typeof response !== 'object' || response === null) {
            			throw 'Cannot process response data: received data is not an object.';
            		}
            
            		if (pagination_required) {
            			if (typeof response.meta === 'undefined' || typeof response.data === 'undefined') {
            				throw 'Cannot process response data: received unexpected object.';
            			}
            
            			data = data.concat(response.data);
            
            			if (typeof response.meta.next !== 'undefined' && response.meta.next !== null) {
            				url = response.meta.next;
            			}
            			else {
            				url = '';
            			}
            		}
            		else {
            			data = response;
            			url = '';
            		}
            	}
            
            	delete request;
            
            	return data;
            }
            
            var params = JSON.parse(value),
            	result = { "data": [], "error": "" },
            	error_msg = "";
            
            var keysList = ['id', 'device_type', 'ipv4_address', 'name', 'group', 'description'];
            
            try {
            	['cp_api_id', 'cp_api_key', 'ecm_api_id', 'ecm_api_key', 'api_url'].forEach(function (key) {
            		var macro = '{$NCM.' + key.replace('_', '.').toUpperCase() + '}';
            		if (params[key] === macro || params[key] === '') {
            			throw 'Please change ' + macro + ' macro to the proper value.';
            		}
            		if (typeof params[key] === 'undefined') {
            			throw 'Please set \'' + key + '\' script input parameter to ' + macro + ' macro value.';
            		}
            	});
            
            	if (params.api_url.indexOf('http://') === -1 && params.api_url.indexOf('https://') === -1) {
            		params.api_url = 'https://' + params.api_url;
            	}
            
            	if (!params.api_url.endsWith('/')) {
            		params.api_url += '/';
            	}
            
            	var devices = getHttpData(params.api_url + 'routers/?fields=' + keysList.join() +
            		'&limit=' + encodeURIComponent('{$NCM.RESP.DATA.LIMIT:"routers"}'), params, true);
            
            	if (Array.isArray(devices)) {
            		result["data"] = devices;
            	}
            	else {
            		throw 'Failed to parse response received from NetCloud Manager API v2. Check debug log for more information.';
            	}
            
            	if (keysList.indexOf('group') !== -1) {
            		var groups = getHttpData(params.api_url + 'groups/?limit=' + encodeURIComponent('{$NCM.RESP.DATA.LIMIT:"groups"}'), params, true);
            
            		if (!Array.isArray(groups)) {
            			throw 'Failed to parse response received from NetCloud Manager API v2. Check debug log for more information.';
            		}
            
            		result["data"].map(function (device) {
            			groups.forEach(function (group) {
            				if (device.group == null) {
            					device.group = {"name": "Undefined"};
            					return
            				}
            				if (typeof device.group == "string" && device.group.endsWith(group.id+'/')) {
            					device.group = group.name;
            				}
            			});
            			return device;
            		});
            	}
            } catch (error) {
            	error_msg = error.toString();
            	error_msg += (error_msg.endsWith('.')) ? '' : '.';
            	Zabbix.log(3, '[ NetCloud Manager API v2 ] ERROR: ' + error_msg);
            };
            
            result.error = error_msg;
            
            return JSON.stringify(result);
          description: 'Item for gathering all devices from NetCloud Manager API.'
          timeout: '{$NCM.DATA.TIMEOUT}'
          parameters:
            - name: api_url
              value: '{$NCM.API.URL}'
            - name: cp_api_id
              value: '{$NCM.CP.API.ID}'
            - name: cp_api_key
              value: '{$NCM.CP.API.KEY}'
            - name: ecm_api_id
              value: '{$NCM.ECM.API.ID}'
            - name: ecm_api_key
              value: '{$NCM.ECM.API.KEY}'
            - name: http_proxy
              value: '{$NCM.HTTP_PROXY}'
          tags:
            - tag: component
              value: raw
        - uuid: bfbe3988a57b4f7d8212a2e033b43292
          name: 'Devices required reboot'
          type: DEPENDENT
          key: cradlepoint.devices.reboot_required
          description: 'Number of devices required reboot.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.data[?(@.reboot_required == ''true'')].length()'
          master_item:
            key: cradlepoint.devices.get
          tags:
            - tag: component
              value: system
        - uuid: 581006b29fab4e93bbf394d28200bde8
          name: 'Total devices'
          type: DEPENDENT
          key: cradlepoint.devices.total
          description: 'The total number of all devices.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.length()
          master_item:
            key: cradlepoint.devices.get
          tags:
            - tag: component
              value: system
        - uuid: b74b036314ee40d4b8810fc96789b337
          name: 'Devices with pending upgrade'
          type: DEPENDENT
          key: cradlepoint.devices.upgrade_pending
          description: 'Number of devices with pending upgrade.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.data[?(@.upgrade_pending == ''true'')].length()'
          master_item:
            key: cradlepoint.devices.get
          tags:
            - tag: component
              value: system
      discovery_rules:
        - uuid: e4609c621e6848ecab825d0bf59776b7
          name: 'Devices discovery'
          type: DEPENDENT
          key: cradlepoint.devices.discovery
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$NCM.DEVICE.NAME.MATCHES}'
              - macro: '{#NAME}'
                value: '{$NCM.DEVICE.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Discovering devices from NetCloud Manager API.'
          host_prototypes:
            - uuid: 0013a0572be54dfd8195753302b9ddfa
              host: '{#TYPE}_{#ID}'
              name: '{#NAME}'
              inventory_mode: AUTOMATIC
              group_links:
                - group:
                    name: 'Discovered hosts'
              group_prototypes:
                - name: 'Cradlepoint/{#GROUP}'
              templates:
                - name: 'Cradlepoint NCM v2 device by HTTP'
              macros:
                - macro: '{$NCM.DEVICE.ID}'
                  value: '{#ID}'
                  description: 'ID of the device.'
              tags:
                - tag: device
                  value: '{#TYPE}'
              custom_interfaces: 'YES'
              interfaces:
                - ip: '{#IP}'
                  port: '161'
          master_item:
            key: cradlepoint.devices.get
          lld_macro_paths:
            - lld_macro: '{#DESCR}'
              path: $.description
            - lld_macro: '{#GROUP}'
              path: $.group
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#IP}'
              path: $.ipv4_address
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#TYPE}'
              path: $.device_type
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data
      tags:
        - tag: class
          value: network
        - tag: subclass
          value: modem
        - tag: target
          value: cradlepoint
        - tag: target
          value: netcloud
      macros:
        - macro: '{$NCM.API.URL}'
          value: 'https://www.cradlepointecm.com/api/v2/'
          description: 'NetCloud Manager API URL.'
          config:
            type: TEXT
            priority: '1'
            label: 'API URL'
            description: 'NetCloud Manager API URL.'
            required: 'YES'
        - macro: '{$NCM.CP.API.ID}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-CP-API-ID.'
          config:
            type: TEXT
            priority: '2'
            label: 'CP API ID'
            description: 'NetCloud Manager X-CP-API-ID.'
            required: 'YES'
        - macro: '{$NCM.CP.API.KEY}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-CP-API-KEY.'
          config:
            type: TEXT
            priority: '3'
            label: 'CP API Key'
            description: 'NetCloud Manager X-CP-API-KEY.'
            required: 'YES'
        - macro: '{$NCM.DATA.TIMEOUT}'
          value: 15s
          description: 'A response timeout for an API.'
          config:
            type: TEXT
            priority: '6'
            section_name: Other
            label: 'API response timeout'
            description: 'A response timeout for an API.'
        - macro: '{$NCM.DEVICE.NAME.MATCHES}'
          value: '.*'
          description: 'This macro is used in device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '8'
            section_name: Filters
            label: 'Device discovery macro (include)'
            description: 'This macro is used in device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.DEVICE.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '9'
            section_name: Filters
            label: 'Device discovery macro (exclude)'
            description: 'This macro is used in device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.ECM.API.ID}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-ECM-API-ID.'
          config:
            type: TEXT
            priority: '4'
            label: 'ECM API ID'
            description: 'NetCloud Manager X-ECM-API-ID.'
            required: 'YES'
        - macro: '{$NCM.ECM.API.KEY}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-ECM-API-KEY.'
          config:
            type: TEXT
            priority: '5'
            label: 'ECM API Key'
            description: 'NetCloud Manager X-ECM-API-KEY.'
            required: 'YES'
        - macro: '{$NCM.HTTP_PROXY}'
          description: 'HTTP proxy for API requests. You can specify it using the format [protocol://][username[:password]@]proxy.example.com[:port]. See the documentation at https://www.zabbix.com/documentation/8.0/manual/config/items/itemtypes/http'
          config:
            type: TEXT
            priority: '10'
            section_name: Other
            label: 'HTTP proxy for API requests'
            description: 'HTTP proxy for API requests. You can specify it using the format [protocol://][username[:password]@]proxy.example.com[:port]. See the documentation at https://www.zabbix.com/documentation/8.0/manual/config/items/itemtypes/http'
        - macro: '{$NCM.RESP.DATA.LIMIT}'
          value: '500'
          description: 'The number of records returned by API. Max value is 500.'
          config:
            type: TEXT
            priority: '7'
            section_name: Other
            label: 'API response limit'
            description: 'The number of records returned by API. In the range from 1 to 500 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
      dashboards:
        - uuid: ed371a522c6d4bd4907fd5697c9904d3
          name: General
          pages:
            - name: Overview
              widgets:
                - type: item
                  name: 'Total devices'
                  width: '24'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 by HTTP'
                        key: cradlepoint.devices.total
                    - type: INTEGER
                      name: show.0
                      value: '2'
                - type: problems
                  name: Problems
                  'y': '3'
                  width: '72'
                  height: '6'
                - type: item
                  name: 'Devices required reboot'
                  x: '24'
                  width: '24'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 by HTTP'
                        key: cradlepoint.devices.reboot_required
                    - type: INTEGER
                      name: show.0
                      value: '2'
                - type: item
                  name: 'Devices with pending upgrade'
                  x: '48'
                  width: '24'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 by HTTP'
                        key: cradlepoint.devices.upgrade_pending
                    - type: INTEGER
                      name: show.0
                      value: '2'
    - uuid: c8e6452eb3924cab9ec51eeaf91435fa
      template: 'Cradlepoint NCM v2 device by HTTP'
      name: 'Cradlepoint NCM v2 device by HTTP'
      description: |
        Get Cradlepoint devices monitoring with script item usage to perform HTTP requests to NetCloud Manager API v2.
        This template will be automatically connected to discovered entities with all required parameters pre-defined.
        
        Generated by official Zabbix template tool "Templator"
      wizard_ready: 'YES'
      readme: |
        ## Setup
        
        1. Log into [NetCloud Manager](https://cradlepointecm.com/).
        2. Select Tools and then select the NetCloud API tab.
        3. Select Add in the NCM API 2.0 section, fill out the required fields and select OK to create the API keys.
        4. Put displayed `X-ECM-API-ID` and `X-ECM-API-KEY` key values into `ECM API ID` and `ECM API Key` host wizard configuration fields.
        5. Get back to [NetCloud Manager](https://cradlepointecm.com/) and select the API Portal link to navigate to the API Portal.
        6. The API Portal lists your `X-CP-API-ID` and `X-CP-API-KEY` API key values.
        7. Put displayed `X-CP-API-ID` and `X-CP-API-KEY` key values into `CP API ID` and `CP API Key` host wizard configuration fields.
        8. Put your device ID into the `Device ID` host wizard configuration field.
        
        >Please, refer to the [vendor documentation](https://docs.cradlepoint.com/r/NCM-APIv2-Overview/Overview-of-NetCloud-API-v2) about NetCloud API authentication.
      vendor:
        name: Zabbix
        version: 8.0-0
      groups:
        - name: 'Templates/Network devices'
      items:
        - uuid: 6e2f0b86ef4f4b399368d13ad46e4012
          name: 'Get devices item errors'
          type: DEPENDENT
          key: cradlepoint_device.data.errors
          history: 1h
          value_type: TEXT
          description: 'Item for gathering device data item errors.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.error
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: error
          triggers:
            - uuid: 36c4c6b12cdd47d79c5f72142d497df8
              expression: 'length(last(/Cradlepoint NCM v2 device by HTTP/cradlepoint_device.data.errors))>0'
              name: 'Cradlepoint: There are errors in the ''Get device data'' metric'
              priority: WARNING
              tags:
                - tag: scope
                  value: availability
        - uuid: 3aaac03c696f4d688d800799750717f4
          name: 'Get device data'
          type: SCRIPT
          key: cradlepoint_device.data.get
          history: '0'
          value_type: TEXT
          params: |
            function getHttpData(url, params, pagination_required) {
            	var request = new HttpRequest(),
            		response,
            		data;
            
            	if (pagination_required) {
            		data = [];
            	}
            
            	request.addHeader('Content-Type: application/json');
            	request.addHeader('X-CP-API-ID: ' + params.cp_api_id);
            	request.addHeader('X-CP-API-KEY: ' + params.cp_api_key);
            	request.addHeader('X-ECM-API-ID: ' + params.ecm_api_id);
            	request.addHeader('X-ECM-API-KEY: ' + params.ecm_api_key);
            
            	if (typeof params.http_proxy !== 'undefined' && params.http_proxy !== '{' + '$NCM.HTTP_PROXY}' && params.http_proxy !== '') {
            		request.setProxy(params.http_proxy);
            		Zabbix.log(4, '[ NetCloud Manager API v2 ] Using HTTP proxy: ' + params.http_proxy);
            	}
            
            	while (url) {
            		Zabbix.log(4, '[ NetCloud Manager API v2 ] Sending request: ' + url);
            
            		response = request.get(url);
            
            		Zabbix.log(4, '[ NetCloud Manager API v2 ] Received response with status code ' + request.getStatus() + ': ' + response);
            
            		if (request.getStatus() < 200 || request.getStatus() >= 300) {
            			throw 'Request failed with status code ' + request.getStatus() + ': ' + response;
            		}
            
            		try {
            			response = JSON.parse(response);
            		}
            		catch (error) {
            			throw 'Failed to parse response received from NetCloud Manager API v2. Check debug log for more information.';
            		}
            
            		if (typeof response !== 'object' || response === null) {
            			throw 'Cannot process response data: received data is not an object.';
            		}
            
            		if (pagination_required) {
            			if (typeof response.meta === 'undefined' || typeof response.data === 'undefined') {
            				throw 'Cannot process response data: received unexpected object.';
            			}
            
            			data = data.concat(response.data);
            
            			if (typeof response.meta.next !== 'undefined' && response.meta.next !== null) {
            				url = response.meta.next;
            			}
            			else {
            				url = '';
            			}
            		}
            		else {
            			data = response;
            			url = '';
            		}
            	}
            
            	delete request;
            
            	return data;
            }
            
            var params = JSON.parse(value),
            	result = { "data": {}, "error": "" },
            	error_msg = "";
            
            try {
            	['device_id', 'cp_api_id', 'cp_api_key', 'ecm_api_id', 'ecm_api_key', 'api_url'].forEach(function (key) {
            		var macro = '{$NCM.' + key.replace('_', '.').toUpperCase() + '}';
            		if (params[key] === macro || params[key] === '') {
            			throw 'Please change ' + macro + ' macro to the proper value.';
            		}
            		if (typeof params[key] === 'undefined') {
            			throw 'Please set \'' + key + '\' script input parameter to ' + macro + ' macro value.';
            		}
            	});
            
            	if (params.api_url.indexOf('http://') === -1 && params.api_url.indexOf('https://') === -1) {
            		params.api_url = 'https://' + params.api_url;
            	}
            
            	if (!params.api_url.endsWith('/')) {
            		params.api_url += '/';
            	}
            
            	var device_data = getHttpData(params.api_url + 'routers/' + encodeURIComponent(params.device_id) + '/', params, false);
            
            	if (typeof device_data !== 'object') {
            		throw 'Failed to parse response received from NetCloud Manager API v2. Check debug log for more information.';
            	}
            
            	device_data.lans = getHttpData(
            		params.api_url + 'routers/' + encodeURIComponent(params.device_id) + '/lans/',
            		params, false
            	);
            
            	if (device_data.actual_firmware !== null && device_data.actual_firmware.startsWith('http')) {
            		device_data.actual_firmware = getHttpData(device_data.actual_firmware, params, false);
            	}
            	else {
            		device_data.actual_firmware = {};
            	}
            
            	if (device_data.last_known_location !== null && device_data.last_known_location.startsWith('http')) {
            		device_data.last_known_location = getHttpData(device_data.last_known_location, params, false);
            	}
            	else {
            		device_data.last_known_location = {};
            	}
            
            	device_data.net_devices = getHttpData(
            		params.api_url + 'net_devices/?router=' + encodeURIComponent(params.device_id) + '&limit=' + encodeURIComponent('{$NCM.RESP.DATA.LIMIT:"net_devices"}'),
            		params, true
            	);
            
            	result.data = device_data;
            } catch (error) {
            	error_msg = error.toString();
            	error_msg += (error_msg.endsWith('.')) ? '' : '.';
            	Zabbix.log(3, '[ NetCloud Manager API v2 ] ERROR: ' + error_msg);
            };
            
            result.error = error_msg;
            
            return JSON.stringify(result);
          description: 'Item for gathering data of the device from NetCloud Manager API.'
          timeout: '{$NCM.DATA.TIMEOUT:"device_data"}'
          parameters:
            - name: api_url
              value: '{$NCM.API.URL}'
            - name: cp_api_id
              value: '{$NCM.CP.API.ID}'
            - name: cp_api_key
              value: '{$NCM.CP.API.KEY}'
            - name: device_id
              value: '{$NCM.DEVICE.ID}'
            - name: ecm_api_id
              value: '{$NCM.ECM.API.ID}'
            - name: ecm_api_key
              value: '{$NCM.ECM.API.KEY}'
            - name: http_proxy
              value: '{$NCM.HTTP_PROXY}'
          tags:
            - tag: component
              value: raw
        - uuid: 4b2e0ce258124e40bcb4ce9ba5ddf7ed
          name: 'Device description'
          type: DEPENDENT
          key: cradlepoint_device.description
          value_type: TEXT
          description: 'Description of the device.'
          inventory_link: NOTES
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.description
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: d30cf93521594fe5badd0f5fba945542
          name: 'Product name'
          type: DEPENDENT
          key: cradlepoint_device.device_model
          value_type: CHAR
          description: 'Full product name of the device.'
          inventory_link: NAME
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.full_product_name
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: ebf204a9d90a4e909b8fb0b08f2bf7ee
          name: 'Device type'
          type: DEPENDENT
          key: cradlepoint_device.device_type
          value_type: CHAR
          description: 'Type of device, e.g. router or access point.'
          inventory_link: TYPE
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.device_type
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: 82e22d1674694eabbe71a7f45aafa76c
          name: Firmware
          type: DEPENDENT
          key: cradlepoint_device.firmware
          value_type: CHAR
          description: 'Firmware of the device.'
          inventory_link: SOFTWARE
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.actual_firmware.version
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: 6cbcce6b319740b0bd101556677a2d21
          name: 'IP address'
          type: DEPENDENT
          key: cradlepoint_device.ip_address
          value_type: CHAR
          description: 'IPv4 address of the device.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.ipv4_address
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: network
        - uuid: 61462ca648714a71970e6ffe6681e73f
          name: 'Device latitude'
          type: DEPENDENT
          key: cradlepoint_device.latitude
          value_type: CHAR
          description: 'Latitude of the device location.'
          inventory_link: LOCATION_LAT
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.last_known_location.latitude
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: f0e0ba3ad11f46f5a1fd8c5d302dde4e
          name: 'Device longitude'
          type: DEPENDENT
          key: cradlepoint_device.longitude
          value_type: CHAR
          description: 'Longitude of the device location.'
          inventory_link: LOCATION_LON
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.last_known_location.longitude
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: 41f4d3ca264f47999a50f8ca71f949b8
          name: 'MAC address'
          type: DEPENDENT
          key: cradlepoint_device.mac_address
          value_type: CHAR
          description: 'MAC address of the device.'
          inventory_link: MACADDRESS_A
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.mac
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: network
        - uuid: a3e158eaa50b491ca9a4b753ef1c0553
          name: 'Reboot required'
          type: DEPENDENT
          key: cradlepoint_device.reboot_required
          description: 'Reboot is required to enable additional device functionality.'
          valuemap:
            name: 'Boolean status'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.reboot_required
              error_handler: DISCARD_VALUE
            - type: BOOL_TO_DECIMAL
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: health
          triggers:
            - uuid: 9899e1c3e27f4fbd89e9ee7f56a495bb
              expression: '{$REBOOT.CONTROL}=1 and last(/Cradlepoint NCM v2 device by HTTP/cradlepoint_device.reboot_required)=1'
              name: 'Cradlepoint: Reboot is required'
              priority: INFO
              tags:
                - tag: scope
                  value: notice
        - uuid: 2fa2f595b81b4b66b143cb9a49f7c409
          name: 'Serial number'
          type: DEPENDENT
          key: cradlepoint_device.serial_number
          value_type: CHAR
          description: 'Serial number of the device.'
          inventory_link: SERIALNO_A
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.serial_number
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
        - uuid: 8f856da65d994b40ac09dcd8627a498c
          name: 'Device state'
          type: DEPENDENT
          key: cradlepoint_device.state
          description: 'Device state.'
          valuemap:
            name: 'Device state'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.state
              error_handler: DISCARD_VALUE
            - type: JAVASCRIPT
              parameters:
                - |
                  const idx = {
                    'offline': 0,
                    'online': 1,
                    'initialized': 2
                  };
                  return typeof idx[value] === 'undefined' ? 10 : idx[value];
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: health
          triggers:
            - uuid: 93aa6ba5e5d74591b58ea6a193a76ff5
              expression: 'last(/Cradlepoint NCM v2 device by HTTP/cradlepoint_device.state)<>1'
              name: 'Cradlepoint: Device state is not online'
              priority: WARNING
              tags:
                - tag: scope
                  value: availability
        - uuid: 221dd6ed37714ed9868c39a6991bf496
          name: Timezone
          type: DEPENDENT
          key: cradlepoint_device.timezone
          value_type: CHAR
          description: 'Timezone of the device.'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.locality
              error_handler: DISCARD_VALUE
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          master_item:
            key: cradlepoint_device.data.get
          tags:
            - tag: component
              value: system
      discovery_rules:
        - uuid: d5a0fbca956e4e1e865dca2962c51614
          name: 'LAN discovery'
          type: DEPENDENT
          key: cradlepoint_device.lan.discovery
          filter:
            evaltype: AND
            conditions:
              - macro: '{#NAME}'
                value: '{$NCM.LAN.NAME.MATCHES}'
              - macro: '{#NAME}'
                value: '{$NCM.LAN.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
              - macro: '{#STATUS}'
                value: '{$NCM.LAN.STATUS.MATCHES}'
              - macro: '{#STATUS}'
                value: '{$NCM.LAN.STATUS.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Discovering devices from NetCloud Manager API.'
          item_prototypes:
            - uuid: 6dbcf7a010eb44dc9d7aa7a89289c480
              name: '{#NAME}: Get data'
              type: DEPENDENT
              key: 'cradlepoint_device.lan.data_get[{#ID}]'
              value_type: TEXT
              description: 'Item for gathering data for the {#NAME} LAN.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.data.lans[?(@.id == ''{#ID}'')].first()'
                  error_handler: DISCARD_VALUE
              master_item:
                key: cradlepoint_device.data.get
              tags:
                - tag: component
                  value: raw
                - tag: lan
                  value: '{#NAME}'
            - uuid: 726987f1f42748c0a903c5e37c299846
              name: '{#NAME}: IP address'
              type: DEPENDENT
              key: 'cradlepoint_device.lan.ip_address[{#ID}]'
              value_type: CHAR
              description: 'LAN''s IP address.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.ip_address
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: 'cradlepoint_device.lan.data_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: lan
                  value: '{#NAME}'
            - uuid: f7786707a27742a5b04bd710e0242a46
              name: '{#NAME}: Netmask'
              type: DEPENDENT
              key: 'cradlepoint_device.lan.netmask[{#ID}]'
              value_type: CHAR
              description: 'LAN''s IP address.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.netmask
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 12h
              master_item:
                key: 'cradlepoint_device.lan.data_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: lan
                  value: '{#NAME}'
            - uuid: 374cbb15ca06433887f660cc01cb4e77
              name: '{#NAME}: State'
              type: DEPENDENT
              key: 'cradlepoint_device.lan.state[{#ID}]'
              trends: '0'
              description: 'LAN''s state, e.g. enabled/disabled.'
              valuemap:
                name: 'LAN state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.enabled
                  error_handler: DISCARD_VALUE
                - type: JAVASCRIPT
                  parameters:
                    - |
                      switch (value) {
                      	case 'disabled':
                      		return 0
                      	case 'enabled':
                      		return 1
                      	default:
                      		return 2
                      }
              master_item:
                key: 'cradlepoint_device.lan.data_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: lan
                  value: '{#NAME}'
          master_item:
            key: cradlepoint_device.data.get
          lld_macro_paths:
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATUS}'
              path: $.enabled
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.lans
              error_handler: CUSTOM_VALUE
              error_handler_params: '[]'
        - uuid: 6b4e6f9c2c0c41b08765ba83fddf4c91
          name: 'Network device discovery'
          type: DEPENDENT
          key: cradlepoint_device.net_device.discovery
          filter:
            evaltype: AND
            conditions:
              - macro: '{#CONN}'
                value: '{$NCM.NET.DEVICE.CONN.MATCHES}'
              - macro: '{#CONN}'
                value: '{$NCM.NET.DEVICE.CONN.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
              - macro: '{#MODE}'
                value: '{$NCM.NET.DEVICE.MODE.MATCHES}'
              - macro: '{#MODE}'
                value: '{$NCM.NET.DEVICE.MODE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
              - macro: '{#NAME}'
                value: '{$NCM.NET.DEVICE.NAME.MATCHES}'
              - macro: '{#NAME}'
                value: '{$NCM.NET.DEVICE.NAME.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
              - macro: '{#STATE}'
                value: ^null$
                operator: NOT_MATCHES_REGEX
              - macro: '{#TYPE}'
                value: '{$NCM.NET.DEVICE.TYPE.MATCHES}'
              - macro: '{#TYPE}'
                value: '{$NCM.NET.DEVICE.TYPE.NOT_MATCHES}'
                operator: NOT_MATCHES_REGEX
          description: 'Discovering network devices connected through the router.'
          item_prototypes:
            - uuid: d7b6b4a0cc3a424ea9d62205b71b2720
              name: '{#NAME}: APN'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.apn[{#ID}]'
              value_type: CHAR
              description: 'Access Point Name.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.apn
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: b6aedbf65bea4dad8c1a07404950b13b
              name: '{#NAME}: Carrier'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.carrier[{#ID}]'
              value_type: CHAR
              description: 'The connected carrier if available. Otherwise, the carrier the modem is configured to connect to.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.carrier
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 24f06937e098469b9449ccfb730b52d7
              name: '{#NAME}: Connection state'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.conn_state[{#ID}]'
              description: 'Current connection state.'
              valuemap:
                name: 'Device connection state'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.connection_state
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const idx = {
                        'disconnected': 0,
                        'disconnecting': 1,
                        'connected': 2,
                        'connecting': 3,
                        'configuring': 4,
                        'ready': 5,
                        'error': 6
                      };
                      return typeof idx[value] === 'undefined' ? 7 : idx[value];
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 8eaf4c7320e545bba6100580febeb45c
              name: '{#NAME}: DNS0 server'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.dns0[{#ID}]'
              value_type: CHAR
              description: 'Primary DNS server.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.dns0
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: bd5874ac2a47445abc4d855182587e41
              name: '{#NAME}: DNS1 server'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.dns1[{#ID}]'
              value_type: CHAR
              description: 'Secondary DNS server.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.dns1
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 6186edf610f84145b56bf83b0cc4d3d6
              name: '{#NAME}: Firmware'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.firmware[{#ID}]'
              value_type: CHAR
              description: 'Firmware version of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.version
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: system
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 3e9466588cf04161bb7dd1df53b222da
              name: '{#NAME}: Gateway'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.gateway[{#ID}]'
              value_type: CHAR
              description: 'Gateway server onto network.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.gateway
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 62d851bee9284d468e57f2c636f0aea7
              name: '{#NAME}: Get device info'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              history: '0'
              value_type: TEXT
              description: 'Item for gathering general information about the {#NAME} network device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - '$.data.net_devices[?(@.id == ''{#ID}'')].first()'
                  error_handler: DISCARD_VALUE
              master_item:
                key: cradlepoint_device.data.get
              tags:
                - tag: component
                  value: raw
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: d78bdab2e9c64876a219cfa85a92defd
              name: '{#NAME}: IPv4 address'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.ipv4_address[{#ID}]'
              value_type: CHAR
              description: 'IPv4 address of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.ipv4_address
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: de3ec146921e4d65979bef0fef4a66bb
              name: '{#NAME}: IPv6 address'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.ipv6_address[{#ID}]'
              value_type: CHAR
              description: 'IPv6 address of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.ipv6_address
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 673c722338b543e99cf5eb7b3f7b9353
              name: '{#NAME}: LTE Band width'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.ltebandwidth[{#ID}]'
              units: Hz
              description: 'Indicates the frequency width of the LTE Band being used by the modem module.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.ltebandwidth
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: JAVASCRIPT
                  parameters:
                    - |
                      const sizes = ['hz', 'khz', 'mhz', 'ghz'];
                      const parts = value.trim().split(' ');
                      
                      if (parts.length < 2) {
                      	return value;
                      }
                      
                      const numberPart = parts[0];
                      const unitPart = parts[1];
                      
                      if (unitPart.toLowerCase() === 'hz') {
                      	return value;
                      }
                      
                      const multiplier = Math.pow(10, 3 * sizes.indexOf(unitPart.toLowerCase()));
                      
                      if (multiplier < 1) {
                      	return value;
                      }
                      
                      return Number(numberPart) * multiplier;
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: a4d5a9f2197b41c8b59e79b2d8b2889e
              name: '{#NAME}: MAC address'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.mac_address[{#ID}]'
              value_type: CHAR
              description: 'MAC address of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.mac
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 3e8beceb12104f17902d49e9f2ce4feb
              name: '{#NAME}: Model'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.model[{#ID}]'
              value_type: CHAR
              description: 'Manufacturing model of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.mfg_model
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: system
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 26568dd6f6b44883beb50560c9c5173c
              name: '{#NAME}: Netmask'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.netmask[{#ID}]'
              value_type: CHAR
              description: 'Netmask of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.netmask
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: b1b6d42a5fd1467db8c6e3ad571acfc1
              name: '{#NAME}: PIN status'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.pin_status[{#ID}]'
              description: 'Indicates the status of the SIM PIN.'
              valuemap:
                name: 'PIN status'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.pin_status
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: JAVASCRIPT
                  parameters:
                    - |
                      switch (value) {
                      	case 'READY':
                      		return 1
                      	case 'PIN REQUIRED':
                      		return 2
                      	default:
                      		return 0
                      }
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: system
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
              trigger_prototypes:
                - uuid: e0ba48932d954732b9cdc8db0d9bb5e1
                  expression: '{$SIM.PIN.CONTROL:"{#ID}"}=1 and last(/Cradlepoint NCM v2 device by HTTP/cradlepoint_device.net_device.pin_status[{#ID}])<>1'
                  name: 'Cradlepoint: {#NAME}: SIM PIN is not ready'
                  priority: WARNING
                  tags:
                    - tag: scope
                      value: health
            - uuid: 580f5cb17117475aa5582175478789af
              name: '{#NAME}: Product name'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.product_name[{#ID}]'
              value_type: CHAR
              description: 'Product name of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.mfg_product
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: system
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 017fc452e2cc4529b1bc0e6388c0548a
              name: '{#NAME}: Radio Frequency Band'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.rf_band[{#ID}]'
              description: 'Indicates the Radio Frequency Band that is currently being used by the modem module.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.rfband
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: a612ef37b197468a994a8c41e99a2f70
              name: '{#NAME}: Radio Frequency Band 5G'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.rf_band_5g[{#ID}]'
              description: 'Indicates the 5G Radio Frequency Band that is currently being used by the modem module.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.rfband5g
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 22b5cf8f07384bbc8a68ff8c12fd7c3d
              name: '{#NAME}: Radio Frequency Channel'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.rf_channel[{#ID}]'
              description: 'Indicates the Radio Frequency Channel that is currently being used by the modem module.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.rfchannel
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 2929110096fe46d980ecddbca0bd3cca
              name: '{#NAME}: Serial number'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.serial[{#ID}]'
              value_type: CHAR
              description: 'Serial number of the {#NAME} device.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.serial
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: system
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: 2888fd84ec334d518eea2f124a489541
              name: '{#NAME}: Uptime'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.uptime[{#ID}]'
              units: uptime
              description: 'Time in seconds since the net device established its link.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.uptime
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
            - uuid: a8f35b55a2474ce49e181d4a4e429829
              name: '{#NAME}: WiMAX realm'
              type: DEPENDENT
              key: 'cradlepoint_device.net_device.wimax_realm[{#ID}]'
              value_type: CHAR
              description: 'WiMAX realm string used to connect to a WiMAX network.'
              preprocessing:
                - type: JSONPATH
                  parameters:
                    - $.wimax_realm
                  error_handler: DISCARD_VALUE
                - type: NOT_MATCHES_REGEX
                  parameters:
                    - ^null$
                  error_handler: DISCARD_VALUE
                - type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: 'cradlepoint_device.net_device.info_get[{#ID}]'
              tags:
                - tag: component
                  value: network
                - tag: connection
                  value: '{#CONN}'
                - tag: device
                  value: '{#NAME}'
                - tag: mode
                  value: '{#MODE}'
                - tag: type
                  value: '{#TYPE}'
          master_item:
            key: cradlepoint_device.data.get
          lld_macro_paths:
            - lld_macro: '{#CONN}'
              path: $.service_type
            - lld_macro: '{#ID}'
              path: $.id
            - lld_macro: '{#MODE}'
              path: $.mode
            - lld_macro: '{#NAME}'
              path: $.name
            - lld_macro: '{#STATE}'
              path: $.connection_state
            - lld_macro: '{#TYPE}'
              path: $.type
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.data.net_devices
              error_handler: CUSTOM_VALUE
              error_handler_params: '[]'
      tags:
        - tag: class
          value: network
        - tag: subclass
          value: modem
        - tag: target
          value: cradlepoint
        - tag: target
          value: netcloud
      macros:
        - macro: '{$NCM.API.URL}'
          value: 'https://www.cradlepointecm.com/api/v2/'
          description: 'NetCloud Manager API URL.'
          config:
            type: TEXT
            priority: '1'
            label: 'API URL'
            description: 'NetCloud Manager API URL.'
            required: 'YES'
        - macro: '{$NCM.CP.API.ID}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-CP-API-ID.'
          config:
            type: TEXT
            priority: '2'
            label: 'CP API ID'
            description: 'NetCloud Manager X-CP-API-ID.'
            required: 'YES'
        - macro: '{$NCM.CP.API.KEY}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-CP-API-KEY.'
          config:
            type: TEXT
            priority: '3'
            label: 'CP API Key'
            description: 'NetCloud Manager X-CP-API-KEY.'
            required: 'YES'
        - macro: '{$NCM.DATA.TIMEOUT}'
          value: 15s
          description: 'A response timeout for an API.'
          config:
            type: TEXT
            priority: '7'
            section_name: Other
            label: 'API response timeout'
            description: 'A response timeout for an API.'
        - macro: '{$NCM.DEVICE.ID}'
          description: 'NetCloud Manager device ID.'
          config:
            type: TEXT
            priority: '6'
            label: 'Device ID'
            description: 'NetCloud Manager device ID.'
            required: 'YES'
        - macro: '{$NCM.ECM.API.ID}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-ECM-API-ID.'
          config:
            type: TEXT
            priority: '4'
            label: 'ECM API ID'
            description: 'NetCloud Manager X-ECM-API-ID.'
            required: 'YES'
        - macro: '{$NCM.ECM.API.KEY}'
          type: SECRET_TEXT
          description: 'NetCloud Manager X-ECM-API-KEY.'
          config:
            type: TEXT
            priority: '5'
            label: 'ECM API Key'
            description: 'NetCloud Manager X-ECM-API-KEY.'
            required: 'YES'
        - macro: '{$NCM.HTTP_PROXY}'
          description: 'HTTP proxy for API requests. You can specify it using the format [protocol://][username[:password]@]proxy.example.com[:port]. See the documentation at https://www.zabbix.com/documentation/8.0/manual/config/items/itemtypes/http'
          config:
            type: TEXT
            priority: '23'
            section_name: Other
            label: 'HTTP proxy'
            description: 'HTTP proxy for API requests. You can specify it using the format [protocol://][username[:password]@]proxy.example.com[:port].'
        - macro: '{$NCM.LAN.NAME.MATCHES}'
          value: '.*'
          description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '11'
            section_name: Other
            label: 'LAN discovery name filter (include)'
            description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.LAN.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '12'
            section_name: Other
            label: 'LAN discovery name filter (exclude)'
            description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.LAN.STATUS.MATCHES}'
          value: '.*'
          description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '13'
            section_name: Other
            label: 'LAN discovery status filter (include)'
            description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.LAN.STATUS.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '14'
            section_name: Other
            label: 'LAN discovery status filter (exclude)'
            description: 'This macro is used in LAN discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.CONN.MATCHES}'
          value: '.*'
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '21'
            section_name: Other
            label: 'Network device connection filter (include)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.CONN.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '22'
            section_name: Other
            label: 'Network device connection filter (exclude)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.MODE.MATCHES}'
          value: '.*'
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '17'
            section_name: Other
            label: 'Network device mode filter (include)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.MODE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '18'
            section_name: Other
            label: 'Network device mode filter (exclude)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.NAME.MATCHES}'
          value: '.*'
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '15'
            section_name: Other
            label: 'Network device name filter (include)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.NAME.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '16'
            section_name: Other
            label: 'Network device name filter (exclude)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.TYPE.MATCHES}'
          value: '.*'
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '19'
            section_name: Other
            label: 'Network device type filter (include)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.NET.DEVICE.TYPE.NOT_MATCHES}'
          value: CHANGE_IF_NEEDED
          description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
          config:
            type: TEXT
            priority: '20'
            section_name: Other
            label: 'Network device type filter (exclude)'
            description: 'This macro is used in Network device discovery. Can be overridden on the host or linked template level.'
        - macro: '{$NCM.RESP.DATA.LIMIT}'
          value: '500'
          description: 'The number of records returned by API. Max value is 500.'
          config:
            type: TEXT
            priority: '8'
            section_name: Other
            label: 'API response limit'
            description: 'The number of records returned by API. In the range from 1 to 500 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
        - macro: '{$REBOOT.CONTROL}'
          value: '1'
          description: 'The macro is used as a flag to control device reboot tracking for the ''Reboot is required'' trigger.'
          config:
            type: TEXT
            priority: '9'
            section_name: Other
            label: 'Reboot control flag'
            description: 'The macro is used as a flag to control device reboot tracking for the ''Reboot is required'' trigger. In the range from 0 to 1 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
        - macro: '{$SIM.PIN.CONTROL}'
          value: '1'
          description: 'The macro is used as a flag to control SIM PIN readiness tracking for the ''SIM PIN is not ready'' trigger. Can be used with the net device ID as context.'
          config:
            type: TEXT
            priority: '10'
            section_name: Other
            label: 'SIM PIN control'
            description: 'The macro is used as a flag to control SIM PIN readiness tracking for the ''SIM PIN is not ready'' trigger. In the range from 0 to 1 inclusive.'
            regex: '^-?([0-9]+|(([0-9]+)\.([0-9]+)))$'
      dashboards:
        - uuid: 65d5445bec3f4094a8682e5a73cf2cd4
          name: General
          pages:
            - name: Overview
              widgets:
                - type: item
                  name: State
                  width: '24'
                  height: '3'
                  fields:
                    - type: INTEGER
                      name: decimal_places
                      value: '0'
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.state
                    - type: INTEGER
                      name: show.0
                      value: '2'
                - type: item
                  name: Timezone
                  'y': '3'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.timezone
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'IP address'
                  'y': '6'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.ip_address
                    - type: INTEGER
                      name: show.0
                      value: '4'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: item
                  name: 'Product name'
                  x: '24'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.device_model
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Device type'
                  x: '24'
                  'y': '3'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.device_type
                    - type: INTEGER
                      name: show.0
                      value: '4'
                    - type: INTEGER
                      name: show.1
                      value: '2'
                - type: item
                  name: 'MAC address'
                  x: '24'
                  'y': '6'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.mac_address
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: 'Serial Number'
                  x: '48'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.serial_number
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: value_size
                      value: '35'
                - type: item
                  name: Firmware
                  x: '48'
                  'y': '3'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.firmware
                    - type: INTEGER
                      name: show.0
                      value: '2'
                - type: item
                  name: 'Device description'
                  x: '48'
                  'y': '6'
                  width: '24'
                  height: '3'
                  fields:
                    - type: ITEM
                      name: itemid.0
                      value:
                        host: 'Cradlepoint NCM v2 device by HTTP'
                        key: cradlepoint_device.description
                    - type: INTEGER
                      name: show.0
                      value: '2'
                    - type: INTEGER
                      name: value_size
                      value: '35'
            - name: LANs
              widgets:
                - type: honeycomb
                  name: State
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 97AAB3
                    - type: STRING
                      name: items.0
                      value: '*: State'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: lan
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAA
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
                - type: honeycomb
                  name: 'IP address'
                  x: '36'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: FFBF59
                    - type: STRING
                      name: items.0
                      value: '*: IP address'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: lan
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAB
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
            - name: 'Network Devices'
              widgets:
                - type: honeycomb
                  name: 'Connection state'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 97AAB3
                    - type: STRING
                      name: items.0
                      value: '*: Connection state'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: connection
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAC
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size
                      value: '20'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
                - type: honeycomb
                  name: 'IPv4 address'
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: FFA059
                    - type: STRING
                      name: items.0
                      value: '*: IPv4 address'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: connection
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAE
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
                - type: honeycomb
                  name: 'Radio Frequency Band'
                  'y': '10'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: E45959
                    - type: STRING
                      name: items.0
                      value: '*: Radio Frequency Band'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: connection
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAG
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size
                      value: '50'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
                - type: honeycomb
                  name: 'LTE Band width'
                  x: '36'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: FFBF59
                    - type: STRING
                      name: items.0
                      value: '*: LTE Band width'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: connection
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAD
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size
                      value: '40'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
                - type: honeycomb
                  name: 'PIN status'
                  x: '36'
                  'y': '5'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: 64B5F6
                    - type: STRING
                      name: items.0
                      value: '*: PIN status'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: system
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: connection
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAF
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size
                      value: '20'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
                - type: honeycomb
                  name: 'Radio Frequency Channel'
                  x: '36'
                  'y': '10'
                  width: '36'
                  height: '5'
                  fields:
                    - type: STRING
                      name: bg_color
                      value: B39DDB
                    - type: STRING
                      name: items.0
                      value: '*: Radio Frequency Channel'
                    - type: INTEGER
                      name: item_tags.0.operator
                      value: '1'
                    - type: STRING
                      name: item_tags.0.tag
                      value: component
                    - type: STRING
                      name: item_tags.0.value
                      value: network
                    - type: INTEGER
                      name: item_tags.1.operator
                      value: '4'
                    - type: STRING
                      name: item_tags.1.tag
                      value: connection
                    - type: STRING
                      name: item_tags.1.value
                      value: ''
                    - type: STRING
                      name: primary_label
                      value: '{{ITEM.NAME}.regsub("(.*?)\:", "\1")}'
                    - type: INTEGER
                      name: primary_label_size_type
                      value: '1'
                    - type: STRING
                      name: reference
                      value: AAAAH
                    - type: INTEGER
                      name: secondary_label_decimal_places
                      value: '0'
                    - type: INTEGER
                      name: secondary_label_size
                      value: '50'
                    - type: INTEGER
                      name: secondary_label_size_type
                      value: '1'
      valuemaps:
        - uuid: 982b8a38fc6942368421fb31f69ebe7b
          name: 'Boolean status'
          mappings:
            - value: '0'
              newvalue: 'false'
            - value: '1'
              newvalue: 'true'
        - uuid: 537c1e26789f454582b356b083f60981
          name: 'Device connection state'
          mappings:
            - value: '0'
              newvalue: Disconnected
            - value: '1'
              newvalue: Disconnecting
            - value: '2'
              newvalue: Connected
            - value: '3'
              newvalue: Connecting
            - value: '4'
              newvalue: Configuring
            - value: '5'
              newvalue: Ready
            - value: '6'
              newvalue: Error
            - value: '7'
              newvalue: None
        - uuid: b96ca91d142f43019760eb35b2943d6e
          name: 'Device state'
          mappings:
            - value: '0'
              newvalue: offline
            - value: '1'
              newvalue: online
            - value: '2'
              newvalue: initialized
            - value: '10'
              newvalue: unknown
        - uuid: 7103250a11c3401baca90278e7b501ad
          name: 'LAN state'
          mappings:
            - value: '0'
              newvalue: disabled
            - value: '1'
              newvalue: enabled
            - value: '2'
              newvalue: unknown
        - uuid: 52c5d0ff693e4bb48ed3511ce4360c1e
          name: 'PIN status'
          mappings:
            - value: '0'
              newvalue: UNKNOWN
            - value: '1'
              newvalue: READY
            - value: '2'
              newvalue: 'PIN REQUIRED'
  graphs:
    - uuid: 57bdf098cf7c4d8388e85ec5fd65793d
      name: 'Devices required reboot'
      ymin_type_1: FIXED
      graph_items:
        - color: 199C0D
          item:
            host: 'Cradlepoint NCM v2 by HTTP'
            key: cradlepoint.devices.reboot_required
    - uuid: a4b7e2626afb4e11a9001851a86ce8a0
      name: 'Devices with pending upgrade'
      ymin_type_1: FIXED
      graph_items:
        - color: 199C0D
          item:
            host: 'Cradlepoint NCM v2 by HTTP'
            key: cradlepoint.devices.upgrade_pending
    - uuid: b6e662a0f1714ad0ba1bd7a5ca2e2405
      name: 'Total devices'
      ymin_type_1: FIXED
      graph_items:
        - color: 199C0D
          item:
            host: 'Cradlepoint NCM v2 by HTTP'
            key: cradlepoint.devices.total
